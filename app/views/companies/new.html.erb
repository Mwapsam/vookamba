<% if business_signed_in? %>
    <div class="d-flex">
    <%= render "shared/business_nav" %>
    <div class="container pt-5">
        <%= link_to "Back", :back, class: "bi bi-arrow-left", data: {turbo: false} %>
        <div class="row">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title text-center">Register Company</h4>
                    <p class="card-description text-center">
                    Please fill in the form below to register your company
                    </p>
                    <%= form_with model: @company, url: companies_path, class: "forms-sample", local: true, data: { turbo: false } do |f| %>
                        <div class="form-group row m-3">
                            <%= f.label :name, 'Name', class: "col-sm-3 col-form-label" %>
                            <div class="col-sm-9">
                                <%= f.text_field :name, placeholder: 'Company name', required: true, class: "form-control" %>
                            </div>
                        </div>
                        <div class="form-group row m-3">
                            <%= f.label :category_id, 'Category', class: "col-sm-3 col-form-label" %>
                            <div class="col-sm-9">
                                <%= fields_for(@company) do |package| %>
                                    <%= package.select :category_id, Category.all.map { |c| [c.name, c.id] }, {}, {class: 'form-select form-select-lg mb-3'} %>
                                <% end %> 
                            </div>
                        </div>
                        <div class="form-group row m-3">
                            <%= f.label :location, "Location", class: "col-sm-3 col-form-label" %>
                            <div class="col-sm-9">
                                <%= f.text_field :location, placeholder: 'Location', required: true, class: "form-control" %>
                            </div>
                        </div>
                        <div class="form-group row m-3">
                            <%= f.label :description, 'Description', class: "col-sm-3 col-form-label" %>
                            <div class="col-sm-9">
                                <%= f.text_area :description, placeholder: 'Description', required: true, class: "form-control" %>
                            </div>
                        </div>
                        <div class="custom-file row m-3">
                            <%= f.label :image, 'Company logo', class: "col-sm-3 custom-file-input" %>
                            <div class="col-sm-9">
                                <%= f.file_field :image, placeholder: 'Company logo', required: true, type: 'file', class: "custom-file-input"  %>
                            </div>
                        </div>
                        <div class="col text-center m-3">
                            <%= f.submit 'Add Company', class: "btn-primary" %>
                        </div>
                    <% end %>

                </div>
            </div>
        </div>
    </div>
</div>
<% end %>